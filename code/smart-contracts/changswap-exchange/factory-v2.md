# โรงงาน v2

{% hint style="warning" %}
ChangSwap ใช้ Uniswap v2 อ่าน[เอกสารประกอบ Uniswap v2](https://uniswap.org/docs/v2/)
สำหรับข้อมูลเชิงลึกเพิ่มเติมเกี่ยวกับตรรกะของสัญญาหลัก โปรดอ่าน [เอกสารรายงาน Uniswap v2 Core](https://uniswap.org/whitepaper.pdf)
{% endhint %}

## ข้อมูลสัญญา

**ชื่อสัญญา:** ChangFactory
**ที่อยู่ของสัญญา:** 0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73

ดู [ChangFactory.sol บน GitHub](https://github.com/changswap/chang-swap-core/blob/master/contracts/ChangFactory.sol)

ดู [สัญญา ChangSwap: Factory v2 บน BkcScan](https://bkcscan.com/address/0xca143ce32fe78f1f7019d7d551a6402fc5350c73)

## อ่านฟังก์ชั่น

### รับคู่

`ฟังก์ชัน getPair (ที่อยู่ tokenA, ที่อยู่ tokenB) การส่งคืนมุมมองภายนอก (คู่ที่อยู่);`

ที่อยู่สำหรับ `tokenA` และที่อยู่สำหรับที่อยู่ส่งคืนของ `tokenB` ของสัญญาคู่ \(ที่มีอยู่\)

คำสั่ง `tokenA` และ `tokenB` ใช้แทนกันได้

ส่งกลับ `0x0000000000000000000000000000000000000000' เป็นที่อยู่ที่ไม่มีคู่อยู่

### คู่ทั้งหมด

`ฟังก์ชัน allPairs(uint) มุมมองภายนอกส่งคืน (คู่ที่อยู่);`

ส่งกลับที่อยู่ของ `n`th pair \(`0`-indexed\) ที่สร้างขึ้นผ่านสัญญา Factory

ส่งกลับ `0x0000000000000000000000000000000000000000' ซึ่งยังไม่ได้สร้างคู่

เริ่มต้นที่ `0' สำหรับคู่ที่สร้างขึ้นครั้งแรก

### allPairsLength

`ฟังก์ชัน allPairsLength() มุมมองภายนอกส่งคืน (uint);`

แสดงจำนวนคู่ปัจจุบันที่สร้างผ่านสัญญาโรงงานเป็นจำนวนเต็ม

### ค่าธรรมเนียมถึง

`ฟังก์ชัน feeTo() มุมมองภายนอกส่งคืน (ที่อยู่);`

ที่อยู่สำหรับส่งค่าธรรมเนียมที่ไม่ใช่ผู้ถือ LP

### feeToSetter

`ฟังก์ชัน feeToSetter() มุมมองภายนอกส่งคืน (ที่อยู่);`

ที่อยู่ที่ได้รับอนุญาตให้ตั้งค่าที่อยู่ feeTo

## เขียนฟังก์ชัน

### createPair

ฟังก์ชั่น createPair\(ที่อยู่ tokenA, ที่อยู่ tokenB\) ส่งคืนภายนอก \(ที่อยู่คู่\);

สร้างคู่สำหรับ `tokenA` และ `tokenB` โดยที่คู่นั้นไม่มีอยู่แล้ว

คำสั่ง `tokenA` และ `tokenB` ใช้แทนกันได้

ปล่อย 'PairCreated' \(ดูเหตุการณ์\)

### setFeeTo

ตั้งค่าที่อยู่สำหรับ "feeTo"

### setFeeToSetter

ตั้งค่าที่อยู่สำหรับการอนุญาตให้ปรับ "feeTo"

## กิจกรรม

### คู่สร้างแล้ว

`เหตุการณ์ที่ PairCreated (ที่อยู่ที่ทำดัชนี token0, ที่อยู่ที่จัดทำดัชนี token1, คู่ที่อยู่, uint);`

ปล่อยออกมาทุกครั้งที่ "createPair" สร้างคู่ใหม่

`token0` จะปรากฏก่อน `token1' ในลำดับการจัดเรียง

ค่าบันทึก "uint" สุดท้ายจะเป็น "1" สำหรับคู่แรกที่สร้าง ค่า "2" สำหรับคู่ที่สอง ฯลฯ

## อินเตอร์เฟซ

``` ข้อความ
นำเข้า '@uniswap/v2-core/contracts/interfaces/IhangFactory.sol';
```

``` ข้อความ
ความแข็งแกร่งของ Pragma =0.5.16;


อินเทอร์เฟซ IchangFactory {
    เหตุการณ์ PairCreated (ที่อยู่ที่ทำดัชนี token0, ที่อยู่ที่จัดทำดัชนี token1, คู่ที่อยู่, uint);

    ฟังก์ชัน feeTo() ผลตอบแทนจากมุมมองภายนอก (ที่อยู่);
    ฟังก์ชัน feeToSetter() ส่งคืนมุมมองภายนอก (ที่อยู่);

    ฟังก์ชั่น getPair (ที่อยู่ tokenA, ที่อยู่ tokenB) ส่งคืนมุมมองภายนอก (คู่ที่อยู่);
    ฟังก์ชั่น allPairs(uint) ส่งคืนมุมมองภายนอก (คู่ที่อยู่);
    ฟังก์ชั่น allPairsLength() มุมมองภายนอกส่งคืน (uint);

    ฟังก์ชั่น createPair (ที่อยู่ tokenA, ที่อยู่ tokenB) ส่งคืนภายนอก (คู่ที่อยู่);

    ฟังก์ชั่น setFeeTo(ที่อยู่) ภายนอก;
    ฟังก์ชั่น setFeeToSetter (ที่อยู่) ภายนอก;
}
```